<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=true><head><meta charset=utf-8><meta http-equiv=content-language content="en"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=theme-color><title>Address formatting &#183; Project Abundance</title><meta name=title content="Address formatting &#183; Project Abundance"><meta name=description content="Implementation of address formatting and work on block structure"><meta name=keywords content="status-update,"><link rel=canonical href=https://abundance.build/blog/2025-05-12-address-formatting/><link type=text/css rel=stylesheet href=/css/main.bundle.min.fd951ea54edeca1b6b08c8bbf3c93c284de4c78daf63a71d8016939775734cf68700f1662ed31d870100c676cbe1f65d150635cf368b874c49fc75147bcb04a9.css integrity="sha512-/ZUepU7eyhtrCMi788k8KE3kx42vY6cdgBaTl3VzTPaHAPFmLtMdhwEAxnbL4fZdFQY1zzaLh0xJ/HUUe8sEqQ=="><script type=text/javascript src=/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj+e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script><script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.e4b2d9aece2aa7a740c3ee7a0efc5acf56b204868ab0fb5bba9be32aed1cd0c9262979d98050759068d58144297f74b12ed05b5173cf2df2e6c097a066b984a8.js integrity="sha512-5LLZrs4qp6dAw+56Dvxaz1ayBIaKsPtbupvjKu0c0MkmKXnZgFB1kGjVgUQpf3SxLtBbUXPPLfLmwJegZrmEqA==" data-copy=Copy data-copied=Copied></script><script src=/lib/zoom/zoom.min.umd.a527109b68c082a70f3697716dd72a9d5aa8b545cf800cecbbc7399f2ca6f6e0ce3e431f2062b48bbfa47c9ea42822714060bef309be073f49b9c0e30d318d7b.js integrity="sha512-pScQm2jAgqcPNpdxbdcqnVqotUXPgAzsu8c5nyym9uDOPkMfIGK0i7+kfJ6kKCJxQGC+8wm+Bz9JucDjDTGNew=="></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:url" content="https://abundance.build/blog/2025-05-12-address-formatting/"><meta property="og:site_name" content="Project Abundance"><meta property="og:title" content="Address formatting"><meta property="og:description" content="Implementation of address formatting and work on block structure"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2025-05-12T00:00:00+00:00"><meta property="article:modified_time" content="2025-05-12T00:00:00+00:00"><meta property="article:tag" content="status-update"><meta name=twitter:card content="summary"><meta name=twitter:title content="Address formatting"><meta name=twitter:description content="Implementation of address formatting and work on block structure"><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Blog","name":"Address formatting","headline":"Address formatting","description":"Implementation of address formatting and work on block structure","abstract":"\u003cp\u003eThe discussions with Alfonso and attempts to start building an actual blockchain led to spending a big part of last week\nworking on block structure. That work is not done yet. However, I like to have some sort of accomplishment at the end of\nthe week if possible, so I spent some time to finally implement the formatting of addresses, which will be the main part\nof this update.\u003c\/p\u003e","inLanguage":"en","url":"https:\/\/abundance.build\/blog\/2025-05-12-address-formatting\/","author":{"@type":"Person","name":""},"copyrightYear":"2025","dateCreated":"2025-05-12T00:00:00\u002b00:00","datePublished":"2025-05-12T00:00:00\u002b00:00","dateModified":"2025-05-12T00:00:00\u002b00:00","keywords":["status-update"],"mainEntityOfPage":"true","wordCount":"1424"}]</script><script src=/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj+KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script></head><body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32 scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>
Skip to main content</a></div><div class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start gap-x-3 pt-[2px] pr-0 pb-[3px] pl-0"><div class="flex flex-1 items-center justify-between"><nav class="flex space-x-3"><a href=/ class="text-base font-medium text-gray-500 hover:text-gray-900">Project Abundance</a></nav><nav class="hidden md:flex items-center gap-x-5 md:ml-12 h-12"></nav><div class="flex md:hidden items-center gap-x-5 md:ml-12 h-12"><span></span></div></div><div class="-my-2 md:hidden"><div id=menu-button class=block></div></div></div><div class="relative flex flex-col grow"><main id=main-content class=grow><article><header id=single_header class="mt-5 max-w-prose"><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">Address formatting</h1><div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime=2025-05-12T00:00:00+00:00>12 May 2025</time><span class="px-2 text-primary-500">&#183;</span><span title="Reading time">7 mins</span><span class="px-2 text-primary-500">&#183;</span>
<span class=mb-[2px]><a href=https://github.com/nazar-pc/abundance/tree/main/website/main/content/blog/2025/2025-05-12-address-formatting.md class="text-lg hover:text-primary-500" rel="noopener noreferrer" target=_blank title="Edit content"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg height="1em" viewBox="0 0 512 512"><path fill="currentColor" d="M441 58.9 453.1 71c9.4 9.4 9.4 24.6.0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9.0zM209.8 256.2 344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1L186.9 325l16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25 175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 1e2c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l1e2-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7.0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4.0 152V424c0 48.6 39.4 88 88 88H360c48.6.0 88-39.4 88-88V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V424c0 22.1-17.9 40-40 40H88c-22.1.0-40-17.9-40-40V152c0-22.1 17.9-40 40-40H2e2c13.3.0 24-10.7 24-24s-10.7-24-24-24H88z"/></svg></span></span></a></span></div><div class="flex flex-row flex-wrap items-center"><a class="relative mt-[0.5rem] mr-2" href=/tags/status-update/><span class="flex cursor-pointer"><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">status-update</span></span></a></div></div><div class="flex author"><div class=place-self-center><div class="text-2xl sm:text-lg"></div></div></div><div class="flex author author-extra mt-4"><img class="!mt-0 !mb-0 h-24 w-24 rounded-full ltr:mr-4 rtl:ml-4" width=96 height=96 src=/3d67cc976284fd62356e2edd8a8dfc49_2651210052118205119_hu_2fd6f6eca7f7083d.jpg><div class=place-self-center><div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">Author</div><a href=https://abundance.build/authors/nazar-pc/ class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">Nazar Mokrynskyi</a><div class="text-2xl sm:text-lg"><div class="flex flex-wrap text-neutral-400 dark:text-neutral-500"><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=https://linkedin.com/in/nazarpc target=_blank aria-label=Linkedin rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5.0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6.0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3.0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2.0 38.5 17.3 38.5 38.5.0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6.0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2.0 79.7 44.3 79.7 101.9V416z"/></svg>
</span></span></a><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=https://x.com/nazarpc target=_blank aria-label=X-Twitter rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/></svg></span></span></a>
<a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=https://github.com/nazar-pc target=_blank aria-label=Github rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</span></span></a><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=mailto:nazar@mokrynskyi.com target=_blank aria-label=Email rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1-27.64 140.9 68.65 266.2 199.1 285.1 19.01 2.888 36.17-12.26 36.17-31.49l1e-4-.6631c0-15.74-11.44-28.88-26.84-31.24-84.35-12.98-149.2-86.13-149.2-174.2.0-102.9 88.61-185.5 193.4-175.4 91.54 8.869 158.6 91.25 158.6 183.2v16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98.0036c-7.299.0-13.2 4.992-15.12 11.68-24.85-12.15-54.24-16.38-86.06-5.106-38.75 13.73-68.12 48.91-73.72 89.64-9.483 69.01 43.81 128 110.9 128 26.44.0 50.43-9.544 69.59-24.88 24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3c0-149.2-133.9-265.632-287.3-235.57zM239.1 304.3c-26.47.0-48-21.56-48-48.05s21.53-48.05 48-48.05 48 21.56 48 48.05-20.6 48.05-48 48.05z"/></svg></span></span></a></div></div></div></div><div class=mb-5></div></header><section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row"><div class="min-w-0 min-h-0 max-w-fit"><div class="article-content max-w-prose mb-20"><p>The discussions with Alfonso and attempts to start building an actual blockchain led to spending a big part of last week
working on block structure. That work is not done yet. However, I like to have some sort of accomplishment at the end of
the week if possible, so I spent some time to finally implement the formatting of addresses, which will be the main part
of this update.</p><h2 class="relative group">Block structure<div id=block-structure class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#block-structure aria-label=Anchor>#</a></span></h2><p>Before getting to addresses, I&rsquo;d like to share some challenges with the block structure. Block header and body look like
those things that were figured out a long time ago and do not need a lot of attention. However, in our sharded design,
we need to both include information from shards in their parent shards, and include reference to the beacon chain in
shards below. Not only that, this whole thing should be verifiable and allow to generate and inclusion of anything
recursively referenced by the beacon chain. Moreover, it must be possible to verify just from the beacon chain block
hash (or super segment root in case of archival history).</p><p>Those constraints require a lot of careful consideration about the order of things and how things are aggregated into
&ldquo;block hash.&rdquo; Block hash is sometimes just a hash of the block header contents as bytes, but doesn&rsquo;t have to be exactly
that, strictly speaking.</p><p>So I&rsquo;ve been working on a custom structure of the block header and block body that does allow to store all the necessary
information, while optimizing the size and verification complexity of generated proofs. A lot of interesting questions
popped up, even something as simple as <a href=https://abundance.zulipchat.com/#narrow/channel/495788-research/topic/Whether.20to.20include.20timestamp.20in.20the.20block.20header.20or.20not/with/517262114 target=_blank>Whether to include timestamp in block header or not?</a> was up for debate.</p><p>I hope to finish the initial version of that by next update and explain the rationale behind key decisions.</p><h2 class="relative group">Address formatting<div id=address-formatting class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#address-formatting aria-label=Anchor>#</a></span></h2><p>Now the key part of this update: what should the address in a blockchain look like?</p><p>I think we&rsquo;re all used to addresses looking like a long unreadable gibberish unless some system for aliases is used
like <a href=https://ens.domains/ target=_blank>ENS</a> (<code>.eth</code>) or <a href=https://www.sns.id/ target=_blank>SNS</a> (<code>.sol</code>), neither of which is a part of the core protocol of Ethereum or Solana
accordingly. Sure, we need to encode some binary information that inevitably looks like gibberish, but there is more
than one way to skin a cat and not all of them are equally good.</p><p>Let&rsquo;s first look at the way blockchain addresses look like for some popular blockchains and what are the good and
not-so-good things about them:</p><table><thead><tr><th>Blockchain</th><th>Example address</th><th>Good</th><th>Bad</th><th>Ugly</th></tr></thead><tbody><tr><td>Ethereum (hex)</td><td>0x661cda03aba8d39​35f6b456f1668b987​03332333</td><td>Short-ish, simple unambiguous vocabulary</td><td>Basically unreadable and unpronounceable, no indication of which chain it belongs to</td><td>No integrity check, accidental typos can lead to loss of funds</td></tr><tr><td>Bitcoin (<a href=https://github.com/bitcoin/bips/blob/60ac0e8feccb07f891fd984e4ed76105d2898609/bip-0173.mediawiki target=_blank>Bech32</a>/<a href=https://github.com/bitcoin/bips/blob/60ac0e8feccb07f891fd984e4ed76105d2898609/bip-0350.mediawiki target=_blank>Bech32m</a>)</td><td>bc1qzqhl7npmadm56​nvmvm2pexmmkrc6m​msyjcdclrjzpzn6sn4vyn​usdzewtu</td><td>Bech32m supports strong error detection, avoids ambiguity, clear chain identification</td><td>Depending on address kind is even longer and less readable than Ethereum (like in provided example)</td><td></td></tr><tr><td>Solana (Base58)</td><td>5ddo32xdfxBvxweFYe​SDbteK53Fj68fAVvVqy​RF6Mp​HY</td><td>Unambiguous vocabulary</td><td>About as unreadable as Ethereum, slightly longer, no chain identification</td><td>No integrity check, accidental typos can lead to loss of funds</td></tr><tr><td>Cardano (Bech32)</td><td>addr1q9mu9r0ynn034​qwwm8lkncu9dd0864​cn8wd74rd5j90q3ydcq​228ammxm02j45gudl5​pgklvhvpkxx2stxth5pc​xv2xseh43q6</td><td>Bech32 supports strong error detection, avoids ambiguity, clear chain identification</td><td></td><td>Extremely long, painful to type manually</td></tr><tr><td>Polkadot/Substrate (<a href=https://wiki.polkadot.network/learn/learn-account-advanced/ target=_blank>SS58</a>)</td><td>12pZ8VV6o3A6BFYg3​b3kk6TC1ZD53x9bXw​koFenv​183DEods</td><td>SS58 supports error detection, avoids ambiguity</td><td>Fairly long, chain identification is not as clear as in some other formats and causes some confusion due to the context where these addresses are used</td><td></td></tr></tbody></table><p>There are many more examples, but I think you get an idea. Neither option is truly great, so it is worth thinking what
it could be.</p><blockquote><p>Fun fact, I spent a non-negligible amount of time trying to format the above table so that it is at least somewhat
readable, especially on mobile devices. Those addresses really do not want to fit on the screen, and there isn&rsquo;t any
natural way to slice them up. This isn&rsquo;t a problem with the format described below.</p></blockquote><p>If talking about balance transfers, there are examples from a world of fiat:</p><table><thead><tr><th>Address type</th><th>Example address</th><th>Good</th><th>Bad</th></tr></thead><tbody><tr><td>Card number</td><td>3782 8224 6310 8005</td><td>Reasonably short, only digits, services that respect users group digits into blocks of 4 for readability</td><td>No integrity check, though this is less catastrophic than in blockchain context, sometimes isn&rsquo;t formatted with spaces</td></tr><tr><td>IBAN</td><td>CY17002001​2800000012​00527600</td><td>Contains checksum for error detection</td><td>Long gibberish that while can be, in most cases is not grouped in meaningful way for humans to read or type</td></tr></tbody></table><p>One thing that impacts the length of the address is the amount of data stored in it. In Ethereum it is 20 bytes, in
Solana 32 bytes, Cardano clearly stores even more data there. As <a href=../2025-02-21-5-million-flips>mentioned previously</a>, I decided to go with just 16
bytes in a form of <code>u128</code> for an address, which is an artifact of the smart contract design.</p><p>Since Bech32m looks like one of the best options features-wise, let&rsquo;s use it as an example and format a random 128-bit
unsigned integer with <code>abc</code> prefix (human-readable part, Bitcoin mainnet uses <code>bc</code> for example):</p><pre tabindex=0><code>abc1qzq2mr3rnsrwcka6fk6sdzcfv5ygv5w7
</code></pre><p>When compared to the blockchain alternatives above, it is already the shortest one, but it still looks very much like
gibberish that is unreadable and unpronounceable. We&rsquo;ll do something about that, but let&rsquo;s first talk about the contents
of that 128-bit unsigned integer that the address is.</p><p>The address logically has two parts:</p><ul><li>20 bits at the beginning correspond to shard index (the least significant bits first)</li><li>the remaining 108 bits correspond to an address allocated on that shard index (the most significant bits first)</li></ul><p>While address can be used on any shard, it can only be allocated (when contract is deployed) on a shard that corresponds
to shard index.</p><p>Conveniently, since Bech32m is a base-32 representation, 20 bits of shard index correspond to exactly 4 characters in
the above example right after 1. With the last 6 characters being Bech32m checksum, we can break the address down into
components like this:</p><pre tabindex=0><code>abc     1          qzq2         mr3rnsrwcka6fk6sdzcfv5 ygv5w7
^prefix ^separator ^shard index ^allocated address     ^checksum
</code></pre><p>Now let&rsquo;s re-assemble the address back with a few tricks:</p><ul><li>insert one separator after shard index</li><li>insert another separator before checksum</li><li>segment allocated address into groups of 4-3-4-4-3-4 characters</li></ul><p>Now the address looks a bit more like a credit card number and should be easier to read and type:</p><pre tabindex=0><code>abc1qzq2-mr3r-nsr-wcka-6fk6-sdz-cfv5-ygv5w7
</code></pre><p>Now it is a bit more readable, but it is still quite long, about as long as Ethereum address is. However, since the
shard index and allocated address are not random, we can make a few observations:</p><ul><li>when blockchain launches, there will not be many shards in existence, meaning out of 20 bits of shard index, most will
be zero at the end: <code>shard 2: 01000 00000 00000 00000</code></li><li>similarly, addresses are allocated using a simple increment, so there will be a lot of zeroes at the start, for the
fifth address allocated: <code>[105 zeroes]101</code></li></ul><p>So when we encode that as Bech32m, we&rsquo;ll get something that looks like this:</p><pre tabindex=0><code>abc1gqqq-qqqq-qqq-qqqq-qqqq-qqq-qqq5-a7dw6e
</code></pre><p>See all of those <code>q</code>s in there? That is what <code>00000</code> bits encode to, and we have a lot of those. So the next logical
step is to strip all <code>q</code> to the right of the shard index and to the left of the allocated address, removing extra
separators in the process as well. Then we end up with this:</p><pre tabindex=0><code>abc1g-5-a7dw6e
</code></pre><p>It is much shorter, can still be deterministically mapped back into full Bech32m and original <code>u128</code>, <code>abc1</code> is a fixed
prefix that is easy to recognize and remember.</p><p>This is exactly the format that I envisioned to use a few months ago, but only implemented last week in <a href=https://github.com/nazar-pc/abundance/pull/237 target=_blank>PR 237</a>.</p><p>For a long time, the addresses will look not much longer than that and will only grow slowly as more contracts are
deployed on the blockchain. There are plenty of pain points related to blockchain adoption by regular users, and
addresses are a part of it. I hope this is a useful contribution not just to the <a href=../2025-04-08-we-are-building-a-blockchain>blockchain we&rsquo;re building</a>, but to the
ecosystem more broadly.</p><h2 class="relative group">Upcoming plans<div id=upcoming-plans class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#upcoming-plans aria-label=Anchor>#</a></span></h2><p>In the nearest future, I&rsquo;m planning to finish the initial design of the block header and block body format and work
towards building consensus verification logic. There will probably be more discussions with Alfonso about how all of
these fits together, because there is an annoying number of moving parts that should fit together, hopefully in a
somewhat elegant way.</p><p>If you found any of this interesting and would like to discuss, please join our <a href=https://abundance.zulipchat.com/ target=_blank>Zulip</a>. In any case I should have more
updates to share next week.</p></div></div><script type=text/javascript src=/js/page.min.54b6f4371722649edbe871e431d8670d670878c22be8f36e229fe53cc9b786fe25a834def5e6de621f7a3e37b72bc8cd73839aa5ed907ed6cbd45cd3e1b0fa20.js integrity="sha512-VLb0NxciZJ7b6HHkMdhnDWcIeMIr6PNuIp/lPMm3hv4lqDTe9ebeYh96Pje3K8jNc4Oape2QftbL1FzT4bD6IA==" data-oid=views_blog/2025/2025-05-12-address-formatting.md data-oid-likes=likes_blog/2025/2025-05-12-address-formatting.md></script></section><footer class="pt-8 max-w-prose print:hidden"><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span><a class="flex group mr-3" href=/blog/2025-05-12-digging-deeper-into-sharded-archiving/><span class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400">&larr;</span>
<span class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400">&rarr;</span>
<span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">Digging deeper into sharded archiving</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime=2025-05-12T00:00:00+00:00>12 May 2025</time>
</span></span></a></span><span><a class="flex text-right group ml-3" href=/blog/2025-05-19-what-does-a-block-look-like/><span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">What does a block look like?</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime=2025-05-19T00:00:00+00:00>19 May 2025</time>
</span></span><span class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400">&rarr;</span>
<span class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400">&larr;</span></a></span></div></div></footer></article><div id=top-scroller class="pointer-events-none absolute top-[110vh] bottom-0 w-12 ltr:right-0 rtl:left-0 z-10"><a href=#the-top class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label="Scroll to top" title="Scroll to top">&uarr;</a></div></main><footer id=site-footer class="py-10 print:hidden"><div class="flex items-center justify-between"><p class="text-sm text-neutral-500 dark:text-neutral-400"><a href=https://creativecommons.org/publicdomain/zero/1.0/ target=_blank rel="license noopener noreferrer">CC0 1.0 Universal</a></p><p class="text-xs text-neutral-500 dark:text-neutral-400">Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://blowfish.page/ target=_blank rel="noopener noreferrer">Blowfish</a></p></div><script>mediumZoom(document.querySelectorAll("img:not(.nozoom)"),{margin:24,background:"rgba(0,0,0,0.5)",scrollOffset:0})</script><script type=text/javascript src=/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh+sCQ0E53ghYrxgYqw+0GCRyIEpA=="></script></footer></div></body></html>